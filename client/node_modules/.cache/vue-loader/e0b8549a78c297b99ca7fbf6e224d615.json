{"remainingRequest":"/home/user101/Desktop/peopleTalk/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user101/Desktop/peopleTalk/client/src/components/Navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/user101/Desktop/peopleTalk/client/src/components/Navbar.vue","mtime":1571320744067},{"path":"/home/user101/Desktop/peopleTalk/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user101/Desktop/peopleTalk/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/user101/Desktop/peopleTalk/client/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/home/user101/Desktop/peopleTalk/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user101/Desktop/peopleTalk/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Cropper } from \"vue-advanced-cropper\";\n//import vueCustomScrollbar from \"vue-custom-scrollbar\";\n\n//import Vuebar from 'vuebar';\n//import { PerfectScrollbar } from 'vue2-perfect-scrollbar'\n//import 'vue2-perfect-scrollbar/dist/vue2-perfect-scrollbar.css';\n\nexport default {\n  components: {\n    Cropper\n\n    //vueCustomScrollbar\n\n    //PerfectScrollbar\n  },\n\n  mounted() {},\n  data: () => ({\n    canvas: null,\n    imgCropper: false,\n    oldPassword: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    valid: false,\n    show: false,\n    show1: false,\n    friendList: false,\n    friendGender: null,\n    displayName: \"\",\n    gender: \"\",\n    userAbout: \"\",\n    imageCrop: null,\n    image: null,\n    pickPic: null,\n    imageUrl: null,\n    avatarImg: null,\n    dialog: false,\n    dialog1: false,\n    search: \"\",\n    page: 1,\n    pageCount: 0,\n    itemsPerPage: 10,\n    headers: [\n      {\n        text: \"Name\",\n        sortable: false,\n        value: \"friendName\"\n      }\n    ],\n    addedFriends: [],\n    dropdown_icon: [\n      { text: \"Male\", callback: () => console.log(\"male\") },\n      { text: \"Female\", callback: () => console.log(\"female\") }\n    ],\n    picRules: [\n      value =>\n        !value ||\n        value.size < 5000000 ||\n        \"Avatar size should be less than 5 MB!\"\n    ],\n    nameRules: [\n      v => !!v || \"Name is required\"\n      //v => (v && v.length <= 10) || 'Name must be less than 10 characters'\n    ],\n    signRules: [\n      v => !!v || \"Name is required\"\n      //v => (v && v.length <= 10) || 'Name must be less than 10 characters'\n    ],\n    passwordRules: [v => !!v || \"Password is required.\"],\n    confirmPasswordRules: [\n      v => !!v || \"Password is required\",\n      v => (v && v.length >= 6) || \"Minimum characters in password must be 6.\"\n    ]\n  }),\n\n  computed: {\n    user() {\n      return this.$store.getters.user;\n    },\n    error() {\n      return this.$store.getters.error;\n    },\n    menuItems_a() {\n      let menuItems = [];\n      if (this.userIsAuthenticated) {\n        menuItems = [\n          { icon: \"person\", title: \"My Profile\", link: \"#\" }\n          //{icon: 'logout', title: 'Logout', link: '/login'}\n        ];\n        //console.log(menuItems[0]);\n      }\n      return menuItems;\n    },\n    menuItems_b() {\n      let menuItems = [\n        { icon: \"fa-user-plus\", title: \"Sign up\", link: \"/signup\" },\n        { icon: \"lock_open\", title: \"Login\", link: \"/login\" }\n      ];\n      if (this.userIsAuthenticated) {\n        menuItems = [\n          //{ icon: \"supervisor_account\", title: \"Friends\", link: \"/dashboard\" },\n          { icon: \"supervisor_account\", title: \"dashboard\", link: \"/dashboard\" }\n          //{icon: 'logout', title: 'Logout', link: '/login'}\n        ];\n        //console.log(menuItems[0]);\n      }\n      return menuItems;\n    },\n    userIsAuthenticated() {\n      return (\n        this.$store.getters.user !== null &&\n        this.$store.getters.user !== undefined\n      );\n    }\n  },\n  methods: {\n    async listFriends() {\n      await this.$store.dispatch(\"getFriendList\", {\n        userId: this.$store.getters.user.userId\n      });\n\n      await this.$store.dispatch(\"updateFriendList\", {\n        userId: this.$store.getters.user.userId\n      });\n\n      if (this.$store.getters.friendsList != null) {\n        this.addedFriends = this.$store.getters.friendsList;\n        if (this.addedFriends[0] === null) {\n          this.addedFriends = [];\n        }\n      }\n      for (let i = 0; i < this.addedFriends.length; i++) {\n        alert(this.addedFriends[i].friendPic);\n        if (this.addedFriends[i].friendGender === \"Female\") {\n          this.friendGender = 0;\n        } else {\n          this.friendGender = 1;\n        }\n      }\n      this.friendList = true;\n    },\n\n    async deleteFriend(friendId) {\n      alert(friendId);\n      await this.$store\n        .dispatch(\"deleteFriend\", {\n          userId: this.$store.getters.user.userId,\n          friendId: friendId\n        })\n        .then(\n          function() {\n            let pos = this.addedFriends\n              .map(function(e) {\n                return e.friendId;\n              })\n              .indexOf(friendId);\n            alert(pos);\n            this.addedFriends.splice(pos, 1);\n          }.bind(this)\n        );\n    },\n\n    logScrollLayout(scrollLayout) {\n      console.log(\"scrollLayout:\", scrollLayout);\n    },\n    onHit() {\n      console.log(\"Dismissed Alert\");\n      this.$store.dispatch(\"clearError\");\n    },\n    emailMatchError() {\n      return this.password === this.confirmPassword\n        ? \"\"\n        : \"Password must match\";\n    },\n    simulateClick() {\n      const profileData = {\n        displayName: this.displayName,\n        gender: this.gender,\n        userAbout: this.userAbout,\n        image: this.image\n      };\n      this.$store.dispatch(\"userInfo\", profileData);\n      this.displayName = this.$store.getters.user.displayName;\n      this.gender = this.$store.getters.user.gender;\n      this.userAbout = this.$store.getters.user.userAbout;\n      this.imageUrl = this.$store.getters.user.userImage;\n      this.avatarImg = this.imageUrl;\n    },\n    onDialogueOpen() {\n      const profileData = {\n        displayName: this.displayName,\n        gender: this.gender,\n        userAbout: this.userAbout,\n        image: this.image\n      };\n      this.$store.dispatch(\"userInfo\", profileData);\n      this.displayName = this.$store.getters.user.displayName;\n      this.gender = this.$store.getters.user.gender;\n      this.userAbout = this.$store.getters.user.userAbout;\n      this.imageUrl = this.$store.getters.user.userImage;\n      this.avatarImg = this.imageUrl;\n      this.dialog = !this.dialog;\n    },\n    onPass() {\n      this.dialog1 = !this.dialog1;\n    },\n    onLogout() {\n      this.$store.dispatch(\"logOutUserUp\");\n    },\n    //onPickFile() {\n    //this.$refs.fileInput.click();\n    //},\n    onFilePicked() {\n      //alert(this.pickPic.name);\n      console.log(this.pickPic);\n      if (this.pickPic != null) {\n        const files = this.pickPic;\n\n        //let filename = files.name;\n\n        const fileReader = new FileReader();\n\n        fileReader.addEventListener(\"load\", () => {\n          this.imageUrl = fileReader.result;\n\n          this.pickPic = null;\n          //this.$refs.cropper.replace(this.imageUrl);\n        });\n\n        this.imgCropper = true;\n        fileReader.readAsDataURL(files);\n        this.image = files;\n        this.imageCrop = files.name;\n      }\n    },\n    change({ coordinates, canvas }) {\n      console.log(coordinates, canvas);\n      console.log(this.$refs.cropper);\n      this.canvas = canvas;\n\n      //this.imageUrl = canvas.toDataURL();\n      //this.avatarImg = this.imageUrl;\n    },\n\n    cropImage() {\n      //this.imageUrl = this.$refs.cropper.canvas.toDataURL();\n      this.imageUrl = this.canvas.toDataURL();\n      this.avatarImg = this.imageUrl;\n      this.imgCropper = false;\n      this.image = this.canvas.toDataURL();\n      this.image = this.cropImgFile(this.image, this.imageCrop);\n      this.imageUrl = null;\n    },\n\n    cropImgFile(dataurl, filename) {\n      let arr = dataurl.split(\",\"),\n        mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]),\n        n = bstr.length,\n        u8arr = new Uint8Array(n);\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n      return new File([u8arr], filename, { type: mime });\n    },\n\n    onUpload() {\n      // Native form submission is not yet supported\n      const profileData = {\n        displayName: this.displayName,\n        gender: this.gender,\n        userAbout: this.userAbout,\n        image: this.image\n      };\n\n      if (this.$refs.form2.validate() && this.$refs.form1.validate()) {\n        this.$store.dispatch(\"userPicUpload\", profileData);\n        this.dialog = false;\n      }\n\n      //},\n      //onUpload() {\n      //  const fd = new FormData();\n      //  fd.append('image', t  his.image, this.image.name);\n      //  axios.post('', fd)\n      //    .then(res => {\n      //      console.log(res);\n      //    });\n      //}\n    },\n    onResetPassword() {\n      if (this.$refs.form.validate()) {\n        const userPass = {\n          oldPassword: this.oldPassword,\n          password: this.confirmPassword\n        };\n        //console.log(typeof newUser);\n        this.$store.dispatch(\"resetPasswd\", userPass);\n        this.dialog1 = false;\n      }\n    }\n  },\n  watch: {\n    user(value) {\n      if (value) {\n        console.log(\"###Profile Updated######\");\n      }\n    }\n  }\n};\n//color navbar #B71C1C\n",{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuYA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Navbar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <nav>\n    <v-app-bar app color=\"primary\" dense dark>\n      <v-toolbar-title>\n        <span class=\"font-weight-light\">People</span>\n        <span>Talk</span>\n      </v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-toolbar-items class=\"hidden-xs-only\">\n        <!--v-on:click=\"dialog = !dialog\"-->\n        <v-btn\n          class=\"font-weight-regular text-capitalize\"\n          v-on:click=\"onDialogueOpen\"\n          @mouseover=\"simulateClick()\"\n          text\n          v-for=\"item in menuItems_a\"\n          :key=\"item.title\"\n          :to=\"item.link\"\n        >\n          <v-icon class=\"ma-1\" small left>{{ item.icon }}</v-icon>\n          {{ item.title }}\n        </v-btn>\n\n        <v-btn\n          class=\"font-weight-regular text-capitalize\"\n          text\n          v-on:click=\"listFriends\"\n          v-if=\"userIsAuthenticated\"\n        >\n          <v-icon class=\"ma-1\" small left>supervisor_account</v-icon>\n          My Friends\n        </v-btn>\n\n        <v-btn\n          class=\"font-weight-regular text-capitalize\"\n          text\n          v-for=\"item in menuItems_b\"\n          :key=\"item.title\"\n          :to=\"item.link\"\n        >\n          <v-icon small class=\"ma-1\" left>{{ item.icon }}</v-icon>\n          {{ item.title }}\n        </v-btn>\n\n        <v-btn\n          class=\"font-weight-regular text-capitalize\"\n          text\n          @click=\"onLogout\"\n          v-if=\"userIsAuthenticated\"\n          to=\"/login\"\n        >\n          <v-icon class=\"ma-1\" small left>exit_to_app</v-icon>\n          Logout\n        </v-btn>\n      </v-toolbar-items>\n    </v-app-bar>\n\n    <v-layout row justify-center>\n      <v-dialog v-model=\"friendList\" max-width=\"600\">\n        <v-card>\n          <div>\n            <v-data-table\n              :search=\"search\"\n              :headers=\"headers\"\n              :items=\"addedFriends\"\n              :page.sync=\"page\"\n              :items-per-page=\"5\"\n              class=\"elevation-1\"\n              @page-count=\"pageCount = $event\"\n              hide-default-footer\n              no-data-text=\"You have no one as a friend yet.\"\n            >\n              <template v-slot:top>\n                <v-toolbar flat color=\"white\">\n                  <v-toolbar-title>My Friends</v-toolbar-title>\n\n                  <v-divider class=\"mx-4\" inset vertical></v-divider>\n                  <v-spacer></v-spacer>\n                  <v-text-field\n                    v-model=\"search\"\n                    append-icon=\"search\"\n                    label=\"Search\"\n                    hide-details\n                  ></v-text-field>\n                </v-toolbar>\n              </template>\n              <template v-slot:body=\"{ items }\">\n                <tbody>\n                  <tr v-for=\"item in items\" :key=\"item.name\">\n                    <td>\n                      <v-avatar size=\"36\">\n                        <img :src=\"item.friendPic\" alt=\"John\" />\n                      </v-avatar>\n                    </td>\n                    <td>\n                      <div v-if=\"item.friendGender === 'Male'\">\n                        {{ item.friendName }}\n                        <sup\n                          ><v-icon small dark color=\"primary\"\n                            >fa-mars</v-icon\n                          ></sup\n                        >\n                      </div>\n\n                      <div v-else>\n                        {{ item.friendName }}\n                        <sup\n                          ><v-icon small dark color=\"pink\"\n                            >fa-venus</v-icon\n                          ></sup\n                        >\n                      </div>\n                    </td>\n                    <td>\n                      <div v-if=\"item.friendOnline\">\n                        <v-icon color=\"green\">\n                          mdi-wifi\n                        </v-icon>\n                      </div>\n\n                      <div v-else>\n                        <v-icon color=\"grey\">\n                          mdi-wifi-off\n                        </v-icon>\n                      </div>\n                    </td>\n                    <td>\n                      <v-icon\n                        color=\"primary\"\n                        @click=\"deleteFriend(item.friendId)\"\n                      >\n                        message\n                      </v-icon>\n                    </td>\n\n                    <td>\n                      <v-icon\n                        color=\"error\"\n                        @click=\"deleteFriend(item.friendId)\"\n                      >\n                        delete\n                      </v-icon>\n                    </td>\n                  </tr>\n                </tbody>\n              </template>\n\n              <template v-slot:no-results>\n                Your search for \"{{ search }}\" found no results.\n              </template>\n            </v-data-table>\n            <div class=\"text-center pt-2\">\n              <v-pagination v-model=\"page\" :length=\"pageCount\"></v-pagination>\n            </div>\n          </div>\n        </v-card>\n      </v-dialog>\n    </v-layout>\n\n    <v-dialog v-model=\"dialog\" persistent width=\"800px\">\n      <v-card>\n        <v-card-title class=\"grey lighten-4 title primary--text headline\">\n          Update Profile\n        </v-card-title>\n        <v-container grid-list-sm class=\"pa-4 ma-0\">\n          <v-layout v-if=\"error\" row justify-center>\n            <v-flex xs12 sm8 md4 v-if=\"error\">\n              <div class=\"text-xs-center\">\n                <pass-wrong @invalidPass=\"onHit\"></pass-wrong>\n              </div>\n            </v-flex>\n          </v-layout>\n          <v-layout row wrap>\n            <v-flex v-model=\"avatarImg\" xs12 align-center justify-space-between>\n              <v-layout align-center>\n                <v-avatar size=\"100px\" class=\"mr-3\">\n                  <img :src=\"avatarImg\" alt=\"profile_pic\" />\n                  <!--//ssl.gstatic.com/s2/oz/images/sge/grey_silhouette.png-->\n                </v-avatar>\n              </v-layout>\n            </v-flex>\n\n            <v-flex>\n              <v-form ref=\"form2\" v-model=\"valid\" lazy-validation>\n                <v-text-field\n                  ref=\"text\"\n                  v-model=\"displayName\"\n                  :rules=\"nameRules\"\n                  placeholder=\"user name\"\n                ></v-text-field>\n              </v-form>\n            </v-flex>\n            <v-flex xs12 sm4>\n              <v-select\n                v-model=\"gender\"\n                :items=\"dropdown_icon\"\n                label=\"Gender\"\n                class=\"mt-1 ml-5 pl-2\"\n              >\n              </v-select>\n            </v-flex>\n            <v-flex xs6 sm4>\n              <v-file-input\n                v-model=\"pickPic\"\n                flat\n                rounded\n                hint=\"upload pic\"\n                outlined\n                :rules=\"picRules\"\n                accept=\"image/png, image/jpeg, image/bmp\"\n                placeholder=\"Pick an avatar\"\n                prepend-icon=\"mdi-camera\"\n                ref=\"fileInput\"\n                label=\"Select Pic\"\n                @change=\"onFilePicked\"\n              >\n              </v-file-input>\n\n              <!--v-btn\n                raised\n                class=\"primary mt-4 ml-5 text-capitalize\"\n                @click=\"onPickFile\"\n                >Upload Image\n                </v-btn\n              -->\n            </v-flex>\n            <!--v-flex xs12>\n              <v-text-field\n                prepend-icon=\"mail\"\n                placeholder=\"Email\"\n              ></v-text-field>\n            </v-flex>\n            <v-flex xs12>\n              <v-text-field\n                type=\"tel\"\n                prepend-icon=\"phone\"\n                placeholder=\"(000) 000 - 0000\"\n                mask=\"phone\"\n              ></v-text-field>\n            </v-flex-->\n            <v-flex xs12>\n              <v-form ref=\"form1\" v-model=\"valid\" lazy-validation>\n                <v-text-field\n                  v-model=\"userAbout\"\n                  :rules=\"signRules\"\n                  prepend-icon=\"notes\"\n                  placeholder=\"About Me\"\n                ></v-text-field>\n              </v-form>\n            </v-flex>\n          </v-layout>\n        </v-container>\n\n        <v-card-actions>\n          <v-btn color=\"primary text-capitalize\" @click=\"onPass\"\n            >Change Password</v-btn\n          >\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary text-capitalize\" @click=\"dialog = false\"\n            >Cancel</v-btn\n          >\n          <v-btn\n            color=\"primary text-capitalize\"\n            :disabled=\"!valid\"\n            @click=\"onUpload\"\n            >Save</v-btn\n          >\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog persistent v-model=\"imgCropper\" max-width=\"800px\">\n      <v-card class=\"black\">\n        <!--vue-cropper\n          \n            ref=\"cropper\"\n            \n            :aspectRatio=\"1\"\n            :src=\"imageUrl\"\n            alt=\"userImage\"\n          >\n          </vue-cropper-->\n\n        <cropper\n          classname=\"cropper\"\n          ref=\"cropper\"\n          maxWidth=\"80\"\n          maxHeight=\"80\"\n          :src=\"imageUrl\"\n          :stencilProps=\"{\n            aspectRatio: 1\n          }\"\n          @change=\"change\"\n        >\n        </cropper>\n\n        <div class=\"text-center\">\n          <v-btn\n            @click=\"cropImage\"\n            class=\"mx-2 ma-3\"\n            fab\n            small\n            dark\n            color=\"transparent\"\n          >\n            <v-icon dark>mdi-upload</v-icon>\n          </v-btn>\n\n          <v-btn\n            @click=\"imgCropper = false\"\n            class=\"mx-2 ma-3\"\n            fab\n            small\n            dark\n            color=\"transparent\"\n          >\n            <v-icon dark>cancel</v-icon>\n          </v-btn>\n        </div>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog v-model=\"dialog1\" width=\"400px\">\n      <v-card>\n        <v-card-title class=\"grey lighten-4 title primary--text headline\">\n          Reset Password\n        </v-card-title>\n        <v-card-text>\n          <v-form\n            ref=\"form\"\n            @submit.prevent=\"submit\"\n            v-model=\"valid\"\n            lazy-validation\n          >\n            <v-text-field\n              v-model=\"oldPassword\"\n              :rules=\"passwordRules\"\n              prepend-icon=\"lock\"\n              name=\"password\"\n              label=\"Enter current Password\"\n              :append-icon=\"show1 ? 'visibility_off' : 'visibility'\"\n              :type=\"show1 ? 'text' : 'password'\"\n              @click:append=\"show1 = !show1\"\n              required\n            >\n            </v-text-field>\n            <v-text-field\n              v-model=\"password\"\n              :rules=\"passwordRules\"\n              prepend-icon=\"lock\"\n              name=\"password\"\n              label=\"Enter new Password\"\n              :append-icon=\"show1 ? 'visibility_off' : 'visibility'\"\n              :type=\"show1 ? 'text' : 'password'\"\n              @click:append=\"show1 = !show1\"\n              required\n            >\n            </v-text-field>\n            <v-text-field\n              v-model=\"confirmPassword\"\n              :rules=\"confirmPasswordRules\"\n              :error-messages=\"emailMatchError()\"\n              prepend-icon=\"lock\"\n              name=\"confirm_password\"\n              label=\"Confirm Password\"\n              :append-icon=\"show1 ? 'visibility_off' : 'visibility'\"\n              :type=\"show1 ? 'text' : 'password'\"\n              @click:append=\"show1 = !show1\"\n              required\n            >\n            </v-text-field>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"primary text-capitalize\" @click=\"onPass\"\n                >Cancel</v-btn\n              >\n              <v-btn\n                color=\"primary text-capitalize\"\n                :disabled=\"!valid\"\n                @click=\"onResetPassword\"\n                >Reset Password</v-btn\n              >\n            </v-card-actions>\n          </v-form>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </nav>\n</template>\n\n<script>\nimport { Cropper } from \"vue-advanced-cropper\";\n//import vueCustomScrollbar from \"vue-custom-scrollbar\";\n\n//import Vuebar from 'vuebar';\n//import { PerfectScrollbar } from 'vue2-perfect-scrollbar'\n//import 'vue2-perfect-scrollbar/dist/vue2-perfect-scrollbar.css';\n\nexport default {\n  components: {\n    Cropper\n\n    //vueCustomScrollbar\n\n    //PerfectScrollbar\n  },\n\n  mounted() {},\n  data: () => ({\n    canvas: null,\n    imgCropper: false,\n    oldPassword: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    valid: false,\n    show: false,\n    show1: false,\n    friendList: false,\n    friendGender: null,\n    displayName: \"\",\n    gender: \"\",\n    userAbout: \"\",\n    imageCrop: null,\n    image: null,\n    pickPic: null,\n    imageUrl: null,\n    avatarImg: null,\n    dialog: false,\n    dialog1: false,\n    search: \"\",\n    page: 1,\n    pageCount: 0,\n    itemsPerPage: 10,\n    headers: [\n      {\n        text: \"Name\",\n        sortable: false,\n        value: \"friendName\"\n      }\n    ],\n    addedFriends: [],\n    dropdown_icon: [\n      { text: \"Male\", callback: () => console.log(\"male\") },\n      { text: \"Female\", callback: () => console.log(\"female\") }\n    ],\n    picRules: [\n      value =>\n        !value ||\n        value.size < 5000000 ||\n        \"Avatar size should be less than 5 MB!\"\n    ],\n    nameRules: [\n      v => !!v || \"Name is required\"\n      //v => (v && v.length <= 10) || 'Name must be less than 10 characters'\n    ],\n    signRules: [\n      v => !!v || \"Name is required\"\n      //v => (v && v.length <= 10) || 'Name must be less than 10 characters'\n    ],\n    passwordRules: [v => !!v || \"Password is required.\"],\n    confirmPasswordRules: [\n      v => !!v || \"Password is required\",\n      v => (v && v.length >= 6) || \"Minimum characters in password must be 6.\"\n    ]\n  }),\n\n  computed: {\n    user() {\n      return this.$store.getters.user;\n    },\n    error() {\n      return this.$store.getters.error;\n    },\n    menuItems_a() {\n      let menuItems = [];\n      if (this.userIsAuthenticated) {\n        menuItems = [\n          { icon: \"person\", title: \"My Profile\", link: \"#\" }\n          //{icon: 'logout', title: 'Logout', link: '/login'}\n        ];\n        //console.log(menuItems[0]);\n      }\n      return menuItems;\n    },\n    menuItems_b() {\n      let menuItems = [\n        { icon: \"fa-user-plus\", title: \"Sign up\", link: \"/signup\" },\n        { icon: \"lock_open\", title: \"Login\", link: \"/login\" }\n      ];\n      if (this.userIsAuthenticated) {\n        menuItems = [\n          //{ icon: \"supervisor_account\", title: \"Friends\", link: \"/dashboard\" },\n          { icon: \"supervisor_account\", title: \"dashboard\", link: \"/dashboard\" }\n          //{icon: 'logout', title: 'Logout', link: '/login'}\n        ];\n        //console.log(menuItems[0]);\n      }\n      return menuItems;\n    },\n    userIsAuthenticated() {\n      return (\n        this.$store.getters.user !== null &&\n        this.$store.getters.user !== undefined\n      );\n    }\n  },\n  methods: {\n    async listFriends() {\n      await this.$store.dispatch(\"getFriendList\", {\n        userId: this.$store.getters.user.userId\n      });\n\n      await this.$store.dispatch(\"updateFriendList\", {\n        userId: this.$store.getters.user.userId\n      });\n\n      if (this.$store.getters.friendsList != null) {\n        this.addedFriends = this.$store.getters.friendsList;\n        if (this.addedFriends[0] === null) {\n          this.addedFriends = [];\n        }\n      }\n      for (let i = 0; i < this.addedFriends.length; i++) {\n        alert(this.addedFriends[i].friendPic);\n        if (this.addedFriends[i].friendGender === \"Female\") {\n          this.friendGender = 0;\n        } else {\n          this.friendGender = 1;\n        }\n      }\n      this.friendList = true;\n    },\n\n    async deleteFriend(friendId) {\n      alert(friendId);\n      await this.$store\n        .dispatch(\"deleteFriend\", {\n          userId: this.$store.getters.user.userId,\n          friendId: friendId\n        })\n        .then(\n          function() {\n            let pos = this.addedFriends\n              .map(function(e) {\n                return e.friendId;\n              })\n              .indexOf(friendId);\n            alert(pos);\n            this.addedFriends.splice(pos, 1);\n          }.bind(this)\n        );\n    },\n\n    logScrollLayout(scrollLayout) {\n      console.log(\"scrollLayout:\", scrollLayout);\n    },\n    onHit() {\n      console.log(\"Dismissed Alert\");\n      this.$store.dispatch(\"clearError\");\n    },\n    emailMatchError() {\n      return this.password === this.confirmPassword\n        ? \"\"\n        : \"Password must match\";\n    },\n    simulateClick() {\n      const profileData = {\n        displayName: this.displayName,\n        gender: this.gender,\n        userAbout: this.userAbout,\n        image: this.image\n      };\n      this.$store.dispatch(\"userInfo\", profileData);\n      this.displayName = this.$store.getters.user.displayName;\n      this.gender = this.$store.getters.user.gender;\n      this.userAbout = this.$store.getters.user.userAbout;\n      this.imageUrl = this.$store.getters.user.userImage;\n      this.avatarImg = this.imageUrl;\n    },\n    onDialogueOpen() {\n      const profileData = {\n        displayName: this.displayName,\n        gender: this.gender,\n        userAbout: this.userAbout,\n        image: this.image\n      };\n      this.$store.dispatch(\"userInfo\", profileData);\n      this.displayName = this.$store.getters.user.displayName;\n      this.gender = this.$store.getters.user.gender;\n      this.userAbout = this.$store.getters.user.userAbout;\n      this.imageUrl = this.$store.getters.user.userImage;\n      this.avatarImg = this.imageUrl;\n      this.dialog = !this.dialog;\n    },\n    onPass() {\n      this.dialog1 = !this.dialog1;\n    },\n    onLogout() {\n      this.$store.dispatch(\"logOutUserUp\");\n    },\n    //onPickFile() {\n    //this.$refs.fileInput.click();\n    //},\n    onFilePicked() {\n      //alert(this.pickPic.name);\n      console.log(this.pickPic);\n      if (this.pickPic != null) {\n        const files = this.pickPic;\n\n        //let filename = files.name;\n\n        const fileReader = new FileReader();\n\n        fileReader.addEventListener(\"load\", () => {\n          this.imageUrl = fileReader.result;\n\n          this.pickPic = null;\n          //this.$refs.cropper.replace(this.imageUrl);\n        });\n\n        this.imgCropper = true;\n        fileReader.readAsDataURL(files);\n        this.image = files;\n        this.imageCrop = files.name;\n      }\n    },\n    change({ coordinates, canvas }) {\n      console.log(coordinates, canvas);\n      console.log(this.$refs.cropper);\n      this.canvas = canvas;\n\n      //this.imageUrl = canvas.toDataURL();\n      //this.avatarImg = this.imageUrl;\n    },\n\n    cropImage() {\n      //this.imageUrl = this.$refs.cropper.canvas.toDataURL();\n      this.imageUrl = this.canvas.toDataURL();\n      this.avatarImg = this.imageUrl;\n      this.imgCropper = false;\n      this.image = this.canvas.toDataURL();\n      this.image = this.cropImgFile(this.image, this.imageCrop);\n      this.imageUrl = null;\n    },\n\n    cropImgFile(dataurl, filename) {\n      let arr = dataurl.split(\",\"),\n        mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]),\n        n = bstr.length,\n        u8arr = new Uint8Array(n);\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n      return new File([u8arr], filename, { type: mime });\n    },\n\n    onUpload() {\n      // Native form submission is not yet supported\n      const profileData = {\n        displayName: this.displayName,\n        gender: this.gender,\n        userAbout: this.userAbout,\n        image: this.image\n      };\n\n      if (this.$refs.form2.validate() && this.$refs.form1.validate()) {\n        this.$store.dispatch(\"userPicUpload\", profileData);\n        this.dialog = false;\n      }\n\n      //},\n      //onUpload() {\n      //  const fd = new FormData();\n      //  fd.append('image', t  his.image, this.image.name);\n      //  axios.post('', fd)\n      //    .then(res => {\n      //      console.log(res);\n      //    });\n      //}\n    },\n    onResetPassword() {\n      if (this.$refs.form.validate()) {\n        const userPass = {\n          oldPassword: this.oldPassword,\n          password: this.confirmPassword\n        };\n        //console.log(typeof newUser);\n        this.$store.dispatch(\"resetPasswd\", userPass);\n        this.dialog1 = false;\n      }\n    }\n  },\n  watch: {\n    user(value) {\n      if (value) {\n        console.log(\"###Profile Updated######\");\n      }\n    }\n  }\n};\n//color navbar #B71C1C\n</script>\n<style>\n.scroll-area {\n  position: relative;\n  margin: auto;\n}\n\n.cropper {\n  height: 420px;\n}\n</style>\n"]}]}