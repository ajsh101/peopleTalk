(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["VueMoveable"]=e():t["VueMoveable"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default")],2)},o=[];function a(t){return"undefined"===typeof t}var s=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var e=t.prototype;return e.trigger=function(t,e){void 0===e&&(e={});var n=this._eventHandler[t]||[],r=n.length>0;if(!r)return!0;n=n.concat(),e.eventType=t;var i=!1,o=[e],a=0;e.stop=function(){i=!0},e.currentTarget=this;for(var s=arguments.length,c=new Array(s>2?s-2:0),l=2;l<s;l++)c[l-2]=arguments[l];for(c.length>=1&&(o=o.concat(c)),a=0;n[a];a++)n[a].apply(this,o);return!i},e.once=function(t,e){if("object"===typeof t&&a(e)){var n,r=t;for(n in r)this.once(n,r[n]);return this}if("string"===typeof t&&"function"===typeof e){var i=this;this.on(t,(function n(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(i,o),i.off(t,n)}))}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"===typeof t&&a(e)){var n,r=t;for(n in r)this.on(n,r[n]);return this}if("string"===typeof t&&"function"===typeof e){var i=this._eventHandler[t];a(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(e)}return this},e.off=function(t,e){if(a(t))return this._eventHandler={},this;if(a(e)){if("string"===typeof t)return this._eventHandler[t]=void 0,this;var n,r=t;for(n in r)this.off(n,r[n]);return this}var i,o,s=this._eventHandler[t];if(s)for(i=0;void 0!==(o=s[i]);i++)if(o===e){s=s.splice(i,1);break}return this},t}();return t.VERSION="2.1.2",t}(),c=s;function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map((function(e){return e.split(" ").map((function(e){return""+t+e})).join(" ")})).join(" ")}function u(t,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")}function p(t,e){return function(n){n&&(t[e]=n)}}function f(t,e){return function(n){var r=n.prototype;t.forEach((function(t){e(r,t)}))}}var d="undefined"!==typeof window&&window||{},h=(d.RegExp,d.navigator),v={browser:[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],os:[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],webview:[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],defaultString:{browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}}};function g(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}function m(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}var b=void 0;function y(t){b=t}function w(t,e){return e&&e.test?!!e.test(t):t.indexOf(e)>-1}function x(t,e){var n=g(t,(function(t){return w(b,t.criteria)}))[0];return n&&n.identity||e.name}function S(t,e){return g(t,(function(t){var n=t.criteria,r=new RegExp(t.identity,"i").test(e);return!!(n?r&&w(b,n):r)}))[0]}function _(){return x(v.browser,v.defaultString.browser)}function P(t){var e=S(v.browser,t);return e||(e={criteria:t,versionSearch:t,identity:t}),e}function D(t,e){var n=v.defaultString.browser.version,r=new RegExp("("+t+")","i").exec(e);if(!r)return n;var i=r.index,o=r[0];if(i>-1){var a=i+o.length+1;n=e.substring(a).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return n}function M(t){if(t){var e=P(t),n=e.versionSearch||t,r=D(n,b);return r}}function O(){var t=v.webview,e=void 0;return m(g(t,(function(t){return w(b,t.criteria)})),(function(t){return e=D(t.browserVersionSearch,b),!(!w(b,t.webviewToken)&&!w(e,t.webviewBrowserVersion))}))}function C(t){return S(v.os,t)}function E(){return x(v.os,v.defaultString.os)}function N(t){var e=C(t)||{},n=v.defaultString.os.version,r=void 0;if(t){if(e.versionAlias)return e.versionAlias;var i=e.versionSearch||t,o=new RegExp("("+i+")\\s([\\d_\\.]+|\\d_0)","i"),a=o.exec(b);return a&&(r=o.exec(b)[2].replace(/_/g,".").replace(/;|\)/g,"")),r||n}}function R(){var t=E(),e=N(t);return{name:t,version:e}}function X(){var t=_(),e=M(t);return{name:t,version:e,webview:O()}}function Y(){return-1!==b.indexOf("Mobi")}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.userAgent;y(t);var e={os:R(),browser:X(),isMobile:Y()};return e.browser.name=e.browser.name.toLowerCase(),e.os.name=e.os.name.toLowerCase(),e.os.version=e.os.version.toLowerCase(),"ios"===e.os.name&&e.browser.webview&&(e.browser.version="-1"),e}k.VERSION="2.1.5";var T=k,j="object",z="undefined";typeof document!==z&&document;function B(t,e,n,r){return(t*r+e*n)/(n+r)}function W(t){return typeof t===z}function F(t){return t&&typeof t===j}function A(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function I(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2],i=e[3];return{prefix:n,unit:i,value:parseFloat(r)}}function L(t){return t.replace(/[\s-_]([a-z])/g,(function(t,e){return e.toUpperCase()}))}function V(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function U(t,e,n,r){t.addEventListener(e,n,r)}function G(t,e,n){t.removeEventListener(e,n)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $=function(){return $=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},$.apply(this,arguments)};function H(t,e,n){var r=nt(t),i=nt(e),o=nt(n),a=rt(n[0],it(r,o)),s=rt(n[0],it(i,o));return J(a,s,n[0])}function q(t){return t.touches&&t.touches.length>=2}function Z(t){return t.touches?tt(t.touches):[et(t)]}function J(t,e,n){var r=t.clientX,i=t.clientY,o=e.clientX,a=e.clientY,s=n.clientX,c=n.clientY,l=r-o,u=i-a,p=r-s,f=i-c;return{clientX:r,clientY:i,deltaX:l,deltaY:u,distX:p,distY:f}}function K(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Q(t,e,n){return t.map((function(t,r){return J(t,e[r],n[r])}))}function tt(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(et(t[r]));return n}function et(t){return{clientX:t.clientX,clientY:t.clientY}}function nt(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function rt(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function it(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var ot=function(){function t(t,e){var n=this;void 0===e&&(e={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.onDragStart=function(t){if(n.isDrag||!q(t)||n.pinchFlag||n.onPinchStart(t),!n.flag){var e=n.startClients[0]?n.startClients:Z(t);n.flag=!0,n.isDrag=!1,n.startClients=e,n.prevClients=e,n.datas={};var r=J(e[0],n.prevClients[0],n.startClients[0]),i=n.options,o=i.dragstart,a=i.preventRightClick;(a&&3===t.which||!1===(o&&o($({datas:n.datas,inputEvent:t},r))))&&(n.flag=!1),n.flag&&t.preventDefault()}},this.onDrag=function(t){if(n.flag){var e=Z(t);n.pinchFlag&&n.onPinch(t,e);var r=n.prevClients,i=n.startClients,o=n.pinchFlag?H(e,r,i):J(e[0],r[0],i[0]);if(o.deltaX||o.deltaY){n.isDrag=!0;var a=n.options.drag;a&&a($({datas:n.datas},o,{inputEvent:t})),n.prevClients=e}}},this.onDragEnd=function(t){if(n.flag){n.pinchFlag&&n.onPinchEnd(t),n.flag=!1;var e=n.options.dragend,r=n.prevClients,i=n.startClients,o=n.pinchFlag?H(r,r,i):J(r[0],r[0],i[0]);n.startClients=[],n.prevClients=[],e&&e($({datas:n.datas,isDrag:n.isDrag,inputEvent:t},o))}},this.options=$({container:t,preventRightClick:!0,events:["touch","mouse"]},e);var r=this.options,i=r.container,o=r.events;this.isTouch=o.indexOf("touch")>-1,this.isMouse=o.indexOf("mouse")>-1,this.isMouse&&(U(t,"mousedown",this.onDragStart),U(i,"mousemove",this.onDrag),U(i,"mouseup",this.onDragEnd)),this.isTouch&&(U(t,"touchstart",this.onDragStart),U(i,"touchmove",this.onDrag),U(i,"touchend",this.onDragEnd))}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isPinching=function(){return this.isPinch},e.onPinchStart=function(t){var e,n;if(this.flag){this.pinchFlag=!0;var r=this.options.pinchstart,i=tt(t.changedTouches);if((e=this.startClients).push.apply(e,i),(n=this.prevClients).push.apply(n,i),r){var o=this.startClients,a=nt(o),s=J(a,a,a);r($({datas:this.datas,touches:Q(o,o,o)},s,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,i=this.startClients,o=J(nt(e),nt(r),nt(i)),a=K(e),s=K(i);n($({datas:this.datas,touches:Q(e,r,i),scale:a/s,distance:a},o,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,i=this.startClients,o=J(nt(r),nt(r),nt(i));n($({datas:this.datas,isPinch:e,touches:Q(r,r,i)},o,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(G(t,"mousedown",this.onDragStart),G(e,"mousemove",this.onDrag),G(e,"mouseup",this.onDragEnd)),this.isTouch&&(G(t,"touchstart",this.onDragStart),G(e,"touchmove",this.onDrag),G(e,"touchend",this.onDragEnd))},t}();var at=ot,st=function(t,e){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},st(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ct(t,e){function n(){this.constructor=t}st(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var lt=function(){return lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},lt.apply(this,arguments)};function ut(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}var pt=function(){},ft={},dt=[],ht=[];function vt(t,e){var n,r,i,o,a=ht;for(o=arguments.length;o-- >2;)dt.push(arguments[o]);e&&null!=e.children&&(dt.length||dt.push(e.children),delete e.children);while(dt.length)if((r=dt.pop())&&void 0!==r.pop)for(o=r.length;o--;)dt.push(r[o]);else"boolean"===typeof r&&(r=null),(i="function"!==typeof t)&&(null==r?r="":"number"===typeof r?r=String(r):"string"!==typeof r&&(i=!1)),i&&n?a[a.length-1]+=r:a===ht?a=[r]:a.push(r),n=i;var s=new pt;return s.nodeName=t,s.children=a,s.attributes=null==e?void 0:e,s.key=null==e?void 0:e.key,void 0!==ft.vnode&&ft.vnode(s),s}function gt(t,e){for(var n in e)t[n]=e[n];return t}function mt(t,e){t&&("function"==typeof t?t(e):t.current=e)}var bt="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,yt=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,wt=[];function xt(t){!t._dirty&&(t._dirty=!0)&&1==wt.push(t)&&bt(St)}function St(){var t;while(t=wt.pop())t._dirty&&Ut(t)}function _t(t,e,n){return"string"===typeof e||"number"===typeof e?void 0!==t.splitText:"string"===typeof e.nodeName?!t._componentConstructor&&Pt(t,e.nodeName):n||t._componentConstructor===e.nodeName}function Pt(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function Dt(t){var e=gt({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function Mt(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}function Ot(t){var e=t.parentNode;e&&e.removeChild(t)}function Ct(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)mt(n,null),mt(r,t);else if("class"!==e||i)if("style"===e){if(r&&"string"!==typeof r&&"string"!==typeof n||(t.style.cssText=r||""),r&&"object"===typeof r){if("string"!==typeof n)for(var o in n)o in r||(t.style[o]="");for(var o in r)t.style[o]="number"===typeof r[o]&&!1===yt.test(o)?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,Et,a):t.removeEventListener(e,Et,a),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t){try{t[e]=null==r?"":r}catch(c){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var s=i&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!==typeof r&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function Et(t){return this._listeners[t.type](ft.event&&ft.event(t)||t)}var Nt=[],Rt=0,Xt=!1,Yt=!1;function kt(){var t;while(t=Nt.shift())t.componentDidMount&&t.componentDidMount()}function Tt(t,e,n,r,i,o){Rt++||(Xt=null!=i&&void 0!==i.ownerSVGElement,Yt=null!=t&&!("__preactattr_"in t));var a=jt(t,e,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--Rt||(Yt=!1,o||kt()),a}function jt(t,e,n,r,i){var o=t,a=Xt;if(null!=e&&"boolean"!==typeof e||(e=""),"string"===typeof e||"number"===typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),Bt(t,!0))),o["__preactattr_"]=!0,o;var s=e.nodeName;if("function"===typeof s)return Gt(t,e,n,r);if(Xt="svg"===s||"foreignObject"!==s&&Xt,s=String(s),(!t||!Pt(t,s))&&(o=Mt(s,Xt),t)){while(t.firstChild)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),Bt(t,!0)}var c=o.firstChild,l=o["__preactattr_"],u=e.children;if(null==l){l=o["__preactattr_"]={};for(var p=o.attributes,f=p.length;f--;)l[p[f].name]=p[f].value}return!Yt&&u&&1===u.length&&"string"===typeof u[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=u[0]&&(c.nodeValue=u[0]):(u&&u.length||null!=c)&&zt(o,u,n,r,Yt||null!=l.dangerouslySetInnerHTML),Ft(o,e.attributes,l),Xt=a,o}function zt(t,e,n,r,i){var o,a,s,c,l,u=t.childNodes,p=[],f={},d=0,h=0,v=u.length,g=0,m=e?e.length:0;if(0!==v)for(var b=0;b<v;b++){var y=u[b],w=y["__preactattr_"],x=m&&w?y._component?y._component.__key:w.key:null;null!=x?(d++,f[x]=y):(w||(void 0!==y.splitText?!i||y.nodeValue.trim():i))&&(p[g++]=y)}if(0!==m)for(b=0;b<m;b++){c=e[b],l=null;x=c.key;if(null!=x)d&&void 0!==f[x]&&(l=f[x],f[x]=void 0,d--);else if(h<g)for(o=h;o<g;o++)if(void 0!==p[o]&&_t(a=p[o],c,i)){l=a,p[o]=void 0,o===g-1&&g--,o===h&&h++;break}l=jt(l,c,n,r),s=u[b],l&&l!==t&&l!==s&&(null==s?t.appendChild(l):l===s.nextSibling?Ot(s):t.insertBefore(l,s))}if(d)for(var b in f)void 0!==f[b]&&Bt(f[b],!1);while(h<=g)void 0!==(l=p[g--])&&Bt(l,!1)}function Bt(t,e){var n=t._component;n?$t(n):(null!=t["__preactattr_"]&&mt(t["__preactattr_"].ref,null),!1!==e&&null!=t["__preactattr_"]||Ot(t),Wt(t))}function Wt(t){t=t.lastChild;while(t){var e=t.previousSibling;Bt(t,!0),t=e}}function Ft(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||Ct(t,r,n[r],n[r]=void 0,Xt);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||Ct(t,r,n[r],n[r]=e[r],Xt)}var At=[];function It(t,e,n){var r,i=At.length;t.prototype&&t.prototype.render?(r=new t(e,n),Ht.call(r,e,n)):(r=new Ht(e,n),r.constructor=t,r.render=Lt);while(i--)if(At[i].constructor===t)return r.nextBase=At[i].nextBase,At.splice(i,1),r;return r}function Lt(t,e,n){return this.constructor(t,n)}function Vt(t,e,n,r,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,"undefined"===typeof t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===ft.syncComponentUpdates&&t.base?xt(t):Ut(t,1,i)),mt(t.__ref,t))}function Ut(t,e,n,r){if(!t._disable){var i,o,a,s=t.props,c=t.state,l=t.context,u=t.prevProps||s,p=t.prevState||c,f=t.prevContext||l,d=t.base,h=t.nextBase,v=d||h,g=t._component,m=!1,b=f;if(t.constructor.getDerivedStateFromProps&&(c=gt(gt({},c),t.constructor.getDerivedStateFromProps(s,c)),t.state=c),d&&(t.props=u,t.state=p,t.context=f,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(s,c,l)?m=!0:t.componentWillUpdate&&t.componentWillUpdate(s,c,l),t.props=s,t.state=c,t.context=l),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!m){i=t.render(s,c,l),t.getChildContext&&(l=gt(gt({},l),t.getChildContext())),d&&t.getSnapshotBeforeUpdate&&(b=t.getSnapshotBeforeUpdate(u,p));var y,w,x=i&&i.nodeName;if("function"===typeof x){var S=Dt(i);o=g,o&&o.constructor===x&&S.key==o.__key?Vt(o,S,1,l,!1):(y=o,t._component=o=It(x,S,l),o.nextBase=o.nextBase||h,o._parentComponent=t,Vt(o,S,0,l,!1),Ut(o,1,n,!0)),w=o.base}else a=v,y=g,y&&(a=t._component=null),(v||1===e)&&(a&&(a._component=null),w=Tt(a,i,l,n||!d,v&&v.parentNode,!0));if(v&&w!==v&&o!==g){var _=v.parentNode;_&&w!==_&&(_.replaceChild(w,v),y||(v._component=null,Bt(v,!1)))}if(y&&$t(y),t.base=w,w&&!r){var P=t,D=t;while(D=D._parentComponent)(P=D).base=w;w._component=P,w._componentConstructor=P.constructor}}!d||n?Nt.push(t):m||t.componentDidUpdate&&t.componentDidUpdate(u,p,b);while(t._renderCallbacks.length)t._renderCallbacks.pop().call(t);Rt||r||kt()}}function Gt(t,e,n,r){var i=t&&t._component,o=i,a=t,s=i&&t._componentConstructor===e.nodeName,c=s,l=Dt(e);while(i&&!c&&(i=i._parentComponent))c=i.constructor===e.nodeName;return i&&c&&(!r||i._component)?(Vt(i,l,3,n,r),t=i.base):(o&&!s&&($t(o),t=a=null),i=It(e.nodeName,l,n),t&&!i.nextBase&&(i.nextBase=t,a=null),Vt(i,l,1,n,r),t=i.base,a&&t!==a&&(a._component=null,Bt(a,!1))),t}function $t(t){var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?$t(n):e&&(null!=e["__preactattr_"]&&mt(e["__preactattr_"].ref,null),t.nextBase=e,Ot(e),At.push(t),Wt(e)),mt(t.__ref,null)}function Ht(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function qt(t,e,n){return Tt(n,t,{},!1,e,!1)}gt(Ht.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=gt(gt({},this.state),"function"===typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),xt(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),Ut(this,2)},render:function(){}});(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)}})();var Zt="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),Jt="undefined"!==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Kt="undefined"!==typeof Symbol&&Symbol.for?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",Qt={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},te=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,ee={},ne=!1;try{ne=!1}catch(Gr){}var re=vt("a",null).constructor;re.prototype.$$typeof=Jt,re.prototype.preactCompatUpgraded=!1,re.prototype.preactCompatNormalized=!1,Object.defineProperty(re.prototype,"type",{get:function(){return this.nodeName},set:function(t){this.nodeName=t},configurable:!0}),Object.defineProperty(re.prototype,"props",{get:function(){return this.attributes},set:function(t){this.attributes=t},configurable:!0});var ie=ft.event;ft.event=function(t){return ie&&(t=ie(t)),t.persist=Object,t.nativeEvent=t,t};var oe=ft.vnode;function ae(t){var e=t.nodeName,n=t.attributes;t.attributes={},e.defaultProps&&De(t.attributes,e.defaultProps),n&&De(t.attributes,n)}function se(t,e){var n,r,i;if(e){for(i in e)if(n=te.test(i))break;if(n)for(i in r=t.attributes={},e)e.hasOwnProperty(i)&&(r[te.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=e[i])}}ft.vnode=function(t){if(!t.preactCompatUpgraded){t.preactCompatUpgraded=!0;var e=t.nodeName,n=t.attributes=null==t.attributes?{}:De({},t.attributes);"function"===typeof e?(!0===e[Kt]||e.prototype&&"isReactComponent"in e.prototype)&&(t.children&&""===String(t.children)&&(t.children=void 0),t.children&&(n.children=t.children),t.preactCompatNormalized||ye(t),ae(t)):(t.children&&""===String(t.children)&&(t.children=void 0),t.children&&(n.children=t.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),se(t,n))}oe&&oe(t)};var ce=function(){};ce.prototype.getChildContext=function(){return this.props.context},ce.prototype.render=function(t){return t.children[0]};var le,ue=[];function pe(t){return be.bind(null,t)}for(var fe={},de=Zt.length;de--;)fe[Zt[de]]=pe(Zt[de]);function he(t,e){for(var n=e||0;n<t.length;n++){var r=t[n];Array.isArray(r)?he(r):r&&"object"===typeof r&&!we(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(t[n]=be(r.type||r.nodeName,r.props||r.attributes,r.children))}}function ve(t){return"function"===typeof t&&!(t.prototype&&t.prototype.render)}function ge(t){return Ee({displayName:t.displayName||t.name,render:function(){return t(this.props,this.context)}})}function me(t){var e=t[Kt];return e?!0===e?t:e:(e=ge(t),Object.defineProperty(e,Kt,{configurable:!0,value:!0}),e.displayName=t.displayName,e.propTypes=t.propTypes,e.defaultProps=t.defaultProps,Object.defineProperty(t,Kt,{configurable:!0,value:e}),e)}function be(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return he(t,2),ye(vt.apply(void 0,t))}function ye(t){t.preactCompatNormalized=!0,_e(t),ve(t.nodeName)&&(t.nodeName=me(t.nodeName));var e=t.attributes.ref,n=e&&typeof e;return!le||"string"!==n&&"number"!==n||(t.attributes.ref=xe(e,le)),Se(t),t}function we(t){return t&&(t instanceof re||t.$$typeof===Jt)}function xe(t,e){return e._refProxies[t]||(e._refProxies[t]=function(n){e&&e.refs&&(e.refs[t]=n,null===n&&(delete e._refProxies[t],e=null))})}function Se(t){var e=t.nodeName,n=t.attributes;if(n&&"string"===typeof e){var r={};for(var i in n)r[i.toLowerCase()]=i;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===e||"input"===e.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var o=r.oninput||"oninput";n[o]||(n[o]=ke([n[o],n[r.onchange]]),delete n[r.onchange])}}}function _e(t){var e=t.attributes||(t.attributes={});Pe.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",Pe)}var Pe={configurable:!0,get:function(){return this.class},set:function(t){this.class=t}};function De(t,e){for(var n=arguments,r=1,i=void 0;r<arguments.length;r++)if(i=n[r])for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);return t}function Me(t,e){for(var n in t)if(!(n in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function Oe(t){return t&&(t.base||1===t.nodeType&&t)||null}function Ce(){}function Ee(t){function e(t,e){Xe(this),We.call(this,t,e,ee),Te.call(this,t,e)}return t=De({constructor:e},t),t.mixins&&Re(t,Ne(t.mixins)),t.statics&&De(e,t.statics),t.propTypes&&(e.propTypes=t.propTypes),t.defaultProps&&(e.defaultProps=t.defaultProps),t.getDefaultProps&&(e.defaultProps=t.getDefaultProps.call(e)),Ce.prototype=We.prototype,e.prototype=De(new Ce,t),e.displayName=t.displayName||"Component",e}function Ne(t){for(var e={},n=0;n<t.length;n++){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&"function"===typeof r[i]&&(e[i]||(e[i]=[])).push(r[i])}return e}function Re(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=ke(e[n].concat(t[n]||ue),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}function Xe(t){for(var e in t){var n=t[e];"function"!==typeof n||n.__bound||Qt.hasOwnProperty(e)||((t[e]=n.bind(t)).__bound=!0)}}function Ye(t,e,n){if("string"===typeof e&&(e=t.constructor.prototype[e]),"function"===typeof e)return e.apply(t,n)}function ke(t,e){return function(){for(var n,r=arguments,i=this,o=0;o<t.length;o++){var a=Ye(i,t[o],r);if(e&&null!=a)for(var s in n||(n={}),a)a.hasOwnProperty(s)&&(n[s]=a[s]);else"undefined"!==typeof a&&(n=a)}return n}}function Te(t,e){je.call(this,t,e),this.componentWillReceiveProps=ke([je,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=ke([je,ze,this.render||"render",Be])}function je(t,e){if(t){var n=t.children;if(n&&Array.isArray(n)&&1===n.length&&("string"===typeof n[0]||"function"===typeof n[0]||n[0]instanceof re)&&(t.children=n[0],t.children&&"object"===typeof t.children&&(t.children.length=1,t.children[0]=t.children)),ne){var r="function"===typeof this?this:this.constructor;this.propTypes||r.propTypes,this.displayName||r.name}}}function ze(t){le=this}function Be(){le===this&&(le=null)}function We(t,e,n){Ht.call(this,t,e),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==ee&&Te.call(this,t,e)}function Fe(t,e){We.call(this,t,e)}function Ae(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map((function(t){return t.trim()})):[]}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */De(We.prototype=new Ht,{constructor:We,isReactComponent:{},replaceState:function(t,e){var n=this;for(var r in this.setState(t,e),n.state)r in t||delete n.state[r]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),Ce.prototype=We.prototype,Fe.prototype=new Ce,Fe.prototype.isPureReactComponent=!0,Fe.prototype.shouldComponentUpdate=function(t,e){return Me(this.props,t)||Me(this.state,e)};var Ie=function(t,e){return Ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ie(t,e)};function Le(t,e){function n(){this.constructor=t}Ie(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ve=function(){return Ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ve.apply(this,arguments)};function Ue(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ge(t){var e=5381,n=t.length;while(n)e=33*e^t.charCodeAt(--n);return e>>>0}var $e=Ge;function He(t){return $e(t).toString(36)}function qe(t,e){var n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=e.replace(/([^}{]*){/gm,(function(e,n){return Ae(n).map((function(e){return e.indexOf(":global")>-1?e.replace(/\:global/g,""):e.indexOf(":host")>-1?""+e.replace(/\:host/g,"."+t):"."+t+" "+e})).join(", ")+"{"})),(document.head||document.body).appendChild(n),n}function Ze(t,e){var n,r="rCS"+He(e),i=0;return function(o){function a(t){return o.call(this,t)||this}return Le(a,o),a.prototype.render=function(){var e=this.props,n=e.className,i=Ue(e,["className"]);return be(t,Ve({className:n+" "+r},i))},a.prototype.componentDidMount=function(){0===i&&(n=qe(r,e)),++i},a.prototype.componentWillUnmount=function(){--i,0===i&&n&&n.parentNode.removeChild(n)},a.prototype.getElement=function(){return this.element||(this.element=Oe(this))},a}(We)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Je=function(t,e){return Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Je(t,e)};function Ke(t,e){function n(){this.constructor=t}Je(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Qe=T(),tn=Qe.os.name.indexOf("ios")>-1||Qe.browser.name.indexOf("safari")>-1,en="moveable-",nn=u(en,"\n{\n    position: fixed;\n    width: 0;\n    height: 0;\n    left: 0;\n    top: 0;\n    z-index: 3000;\n}\n.line, .control {\n    left: 0;\n    top: 0;\n}\n.control {\n    position: absolute;\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    border: 2px solid #fff;\n    box-sizing: border-box;\n    background: #4af;\n    margin-top: -7px;\n    margin-left: -7px;\n}\n.line {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    background: #4af;\n    transform-origin: 0px 0.5px;\n}\n.line.rotation {\n    height: 40px;\n    width: 1px;\n    transform-origin: 0.5px 39.5px;\n}\n.line.rotation .control {\n    border-color: #4af;\n    background:#fff;\n    cursor: alias;\n}\n.control.origin {\n    border-color: #f55;\n    background: #fff;\n    width: 12px;\n    height: 12px;\n    margin-top: -6px;\n    margin-left: -6px;\n    pointer-events: none;\n}\n.control.e, .control.w {\n    cursor: ew-resize;\n}\n.control.s, .control.n {\n    cursor: ns-resize;\n}\n.control.nw, .control.se, :host.reverse .control.ne, :host.reverse .control.sw {\n    cursor: nwse-resize;\n}\n.control.ne, .control.sw, :host.reverse .control.nw, :host.reverse .control.se {\n    cursor: nesw-resize;\n}\n"+(tn?':global svg *:before {\n    content:"";\n    transform-origin: inherit;\n}':"")+"\n"),rn=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],on=1e-9;function an(t,e,n,r,i,o){for(var a=n;a<r;++a)t[a]+=t[i+a-n]*o,e[a]+=e[i+a-n]*o}function sn(t,e,n,r,i){for(var o=n;o<r;++o){var a=t[o],s=e[o];t[o]=t[i+o-n],t[i+o-n]=a,e[o]=e[i+o-n],e[i+o-n]=s}}function cn(t,e,n,r,i){for(var o=n;o<r;++o)t[o]/=i,e[o]/=i}function ln(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function un(t,e){for(var n=ln(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function pn(t,e){for(var n=ln(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(i+1)-1]=t[i];return n}function fn(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}function dn(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=ln(e),i=0;i<e;++i){var o=e*i,a=e*(i+1),s=o+i;if(0===n[s])for(var c=i+1;c<e;++c)if(n[e*c+i]){sn(n,r,o,a,e*c);break}if(!n[s])return[];cn(n,r,o,a,n[s]);for(c=0;c<e;++c){var l=e*c,u=l+e,p=l+i,f=n[p];0!==f&&i!==c&&an(n,r,l,u,o,-f)}}return r}function hn(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}function vn(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function gn(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=ln(n),i=Math.min(e,n),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)r[o*n+a]=t[o*e+a];r[(o+1)*n-1]=t[(o+1)*e-1],r[(n-1)*n+o]=t[(e-1)*e+o]}return r[n*n-1]=t[e*e-1],r}function mn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=ln(t);return e.forEach((function(e){r=bn(r,e,t)})),r}function bn(t,e,n){for(var r=[],i=t.length/n,o=e.length/i,a=0;a<n;++a)for(var s=0;s<o;++s){r[a*o+s]=0;for(var c=0;c<i;++c)r[a*o+s]+=t[a*i+c]*e[c*o+s]}return r}function yn(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=[],i=t.length/n,o=e.length/i,a=0;a<n;++a)for(var s=0;s<o;++s){r[a+s*o]=0;for(var c=0;c<i;++c)r[a+s*o]+=t[a+c*i]*e[c+s*o]}return r}function wn(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function xn(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function Sn(t,e,n){void 0===n&&(n=e.length);var r=bn(t,e,n),i=r[n-1];return r.map((function(t){return t/i}))}function _n(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e-1;++r)n[r]=t[(r+1)*e-1];return n[e-1]=0,n}function Pn(t){return 6===t.length?[t[0],t[2],t[4],t[1],t[3],t[5],0,0,1]:hn(t)}function Dn(t){return 9===t.length?[t[0],t[3],t[1],t[4],t[2],t[5]]:hn(t)}function Mn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l.apply(void 0,[en].concat(t))}function On(){return ln(3)}function Cn(t){if("none"===t)return[1,0,0,1,0,0];if(F(t))return t;var e=A(t).value;return e.split(/s*,\s*/g).map((function(t){return parseFloat(t)}))}function En(t,e,n){return mn(e,pn(n,e),t,pn(n.map((function(t){return-t})),e))}function Nn(t,e,n){if("%"===e){var r=t.ownerSVGElement.viewBox.baseVal;return r[n?"width":"height"]/100}return 1}function Rn(t){var e=Xn(window.getComputedStyle(t,":before"));return e.map((function(e,n){var r=I(e),i=r.value,o=r.unit;return i*Nn(t,o,0===n)}))}function Xn(t){return t.transformOrigin.split(" ")}function Yn(t,e,n,r,i){var o;void 0===n&&(n=t===e);var a,s,c=t,l=[],u=!1,p=3;while(c&&(n||c!==e)){var f=c.tagName.toLowerCase(),d=window.getComputedStyle(c),h=Pn(Cn(d.transform));if(!u&&16===h.length){u=!0,p=4;for(var v=l.length,g=0;g<v;++g)l[g]=gn(l[g],3,4)}u&&9===h.length&&(h=gn(h,3,4));var m=c.offsetLeft,b=c.offsetTop,y=W(m),w=void 0;if(y&&"svg"!==f?(w=tn?Rn(c):Xn(d).map((function(t){return parseFloat(t)})),y=!1,"g"===f?(m=0,b=0):(o=Tn(c,w),m=o[0],b=o[1],w[0]=o[2],w[1]=o[3])):w=Xn(d).map((function(t){return parseFloat(t)})),"svg"===f&&s&&l.push(kn(c,p),ln(p)),l.push(En(h,p,w),pn([y?c:m,y?w:b],p)),s||(s=h),a||(a=w),n)break;c=c.parentElement}var x=r?gn(r,i,p):ln(p),S=ln(p),_=ln(p),P=l.length;l.reverse(),l.forEach((function(t,n){var r;P-2===n&&(S=x.slice()),P-1===n&&(_=x.slice()),F(t[p-1])&&(r=Bn(t[p-1],e,p,t[2*p-1],x,l[n+1]),t[p-1]=r[0],t[2*p-1]=r[1]),x=bn(x,t,p)}));var D=(u?"matrix3d":"matrix")+"("+Dn(s)+")";return[S,_,x,s,D,a]}function kn(t,e){var n=t.clientWidth,r=t.clientHeight,i=t.viewBox.baseVal,o=i.width||n,a=i.height||r,s=n/o,c=r/a,l=t.preserveAspectRatio.baseVal,u=l.align,p=l.meetOrSlice,f=[0,0],d=[s,c],h=[0,0];if(1!==u){var v=(u-2)%3,g=Math.floor((u-2)/3);f[0]=o*v/2,f[1]=a*g/2;var m=2===p?Math.max(c,s):Math.min(s,c);d[0]=m,d[1]=m,h[0]=(n-o)/2*v,h[1]=(r-a)/2*g}var b=un(d,e);return b[e-1]=h[0],b[2*e-1]=h[1],En(b,e,f)}function Tn(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),r=t.ownerSVGElement,i=r.viewBox.baseVal,o=n.x-i.x,a=n.y-i.y;return[o,a,e[0]-o,e[1]-a]}function jn(t,e,n){return Sn(t,vn(e,n),n)}function zn(t,e,n,r){var i=jn(t,[0,0],r),o=jn(t,[e,0],r),a=jn(t,[0,n],r),s=jn(t,[e,n],r);return[i,o,a,s]}function Bn(t,e,n,r,i,o){var a,s=Vn(t),c=s[0],l=s[1],u=(e||document.documentElement).getBoundingClientRect(),p=t.getBoundingClientRect(),f=p.left-u.left,d=p.top-u.top,h=p.width,v=p.height,g=mn(n,i,o),m=zn(g,c,l,n),b=m.map((function(t){return t[0]})),y=m.map((function(t){return t[1]})),w=jn(g,r,n),x=Math.min.apply(Math,b),S=Math.min.apply(Math,y),_=xn(w,[x,S]),P=Math.max.apply(Math,b)-x,D=Math.max.apply(Math,y)-S,M=[f+_[0]*h/P,d+_[1]*v/D],O=[0,0],C=0;while(++C<10){var E=dn(i,n);a=xn(jn(E,M,n),jn(E,w,n)),O[0]=a[0],O[1]=a[1];var N=mn(n,i,pn(O,n),o),R=zn(N,c,l,n),X=Math.min.apply(Math,R.map((function(t){return t[0]}))),Y=Math.min.apply(Math,R.map((function(t){return t[1]}))),k=X-f,T=Y-d;if(Math.abs(k)<2&&Math.abs(T)<2)break;M[0]-=k,M[1]-=T}return O.map((function(t){return Math.round(t)}))}function Wn(t,e,n,r){var i=16===t.length,o=i?4:3,a=zn(t,n,r,o),s=a[0],c=s[0],l=s[1],u=a[1],p=u[0],f=u[1],d=a[2],h=d[0],v=d[1],g=a[3],m=g[0],b=g[1],y=jn(t,e,o),w=y[0],x=y[1],S=Math.min(c,p,h,m),_=Math.min(l,f,v,b);c=c-S||0,p=p-S||0,h=h-S||0,m=m-S||0,l=l-_||0,f=f-_||0,v=v-_||0,b=b-_||0,w=w-S||0,x=x-_||0;var P=[(c+p+h+m)/4,(l+f+v+b)/4],D=An(P,[c,l]),M=An(P,[p,f]),O=D<M&&M-D<Math.PI||D>M&&M-D<-Math.PI?1:-1;return[[S,_],[w,x],[c,l],[p,f],[h,v],[m,b],O]}function Fn(t,e){var n=Math.cos(e),r=Math.sin(e);return bn([n,-r,0,r,n,0,0,0,1],t,3)}function An(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>0?i:i+2*Math.PI}function In(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.sqrt(n*n+r*r),o=An(t,e);return{transform:"translate("+t[0]+"px, "+t[1]+"px) rotate("+o+"rad)",width:i+"px"}}function Ln(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length,r=t.reduce((function(t,e){return t+e[0]}),0)/n,i=t.reduce((function(t,e){return t+e[1]}),0)/n;return{transform:"translate("+r+"px, "+i+"px)"}}function Vn(t,e,n,r){void 0===e&&(e=window.getComputedStyle(t)),void 0===r&&(r=n||"border-box"===e.boxSizing);var i=t.offsetWidth,o=t.offsetHeight,a=!W(i);if((n||r)&&a)return[i,o];if(i=t.clientWidth,o=t.clientHeight,!a&&!i&&!o){var s=t.getBBox();return[s.width,s.height]}if(n||r){var c=parseFloat(e.borderLeftWidth)||0,l=parseFloat(e.borderRightWidth)||0,u=parseFloat(e.borderTopWidth)||0,p=parseFloat(e.borderBottomWidth)||0;return[i+c+l,o+u+p]}var f=parseFloat(e.paddingLeft)||0,d=parseFloat(e.paddingRight)||0,h=parseFloat(e.paddingTop)||0,v=parseFloat(e.paddingBottom)||0;return[i-f-d,o-h-v]}function Un(t,e,n){var r=An(n>0?t:e,n>0?e:t),i=Fn([0,-40,0],r),o=[(t[0]+e[0])/2+i[0],(t[1]+e[1])/2+i[1]];return[r,o]}function Gn(t,e){var n,r,i,o,a,s,c=0,l=0,u=[0,0],p=[0,0],f=[0,0],d=[0,0],h=[0,0],v=On(),g=On(),m=On(),b=0,y=0,w=[0,0],x=1,S=1,_=[0,0],P=0,D=!1,M="",O=[0,0];if(t){var C=window.getComputedStyle(t);b=t.offsetWidth,y=t.offsetHeight,W(b)&&(n=Vn(t,C,!0),b=n[0],y=n[1]);var E=void 0;r=Yn(t,e),v=r[0],E=r[1],g=r[2],m=r[3],M=r[4],w=r[5],D=16===g.length,i=Wn(g,w,b,y),o=i[0],c=o[0],l=o[1],u=i[1],p=i[2],f=i[3],d=i[4],h=i[5],x=i[6];var N=D?4:3,R=[0,0];a=Wn(E,wn(w,_n(m,N)),b,y),R=a[0],O=a[1],S=a[6],O=[O[0]+R[0]-c,O[1]+R[1]-l],s=Un(p,f,x),P=s[0],_=s[1]}return{beforeDirection:S,direction:x,rotationRad:P,rotationPos:_,target:t,left:c,top:l,pos1:p,pos2:f,pos3:d,pos4:h,width:b,height:y,beforeMatrix:v,matrix:g,targetTransform:M,targetMatrix:m,is3d:D,beforeOrigin:O,origin:u,transformOrigin:w}}function $n(t,e){return t.map((function(t,n){return B(t,e[n],1,2)}))}function Hn(t){var e=t.getAttribute("data-position");if(e){var n=[0,0];return e.indexOf("w")>-1&&(n[0]=-1),e.indexOf("e")>-1&&(n[0]=1),e.indexOf("n")>-1&&(n[1]=-1),e.indexOf("s")>-1&&(n[1]=1),n}}function qn(t,e){return e?Math.round(t/e)*e:t}function Zn(t,e){t.forEach((function(n,r){t[r]=qn(t[r],e)}))}function Jn(t,e,n,r,i,o,a,s){var c=t[0],l=t[1],u=e[0],p=e[1],f=n[0],d=n[1],h=r[0],v=r[1],g=i[0],m=i[1],b=o[0],y=o[1],w=a[0],x=a[1],S=s[0],_=s[1],P=[c,l,1,0,0,0,-g*c,-g*l,0,0,0,c,l,1,-m*c,-m*l,u,p,1,0,0,0,-b*u,-b*p,0,0,0,u,p,1,-y*u,-y*p,f,d,1,0,0,0,-w*f,-w*d,0,0,0,f,d,1,-x*f,-x*d,h,v,1,0,0,0,-S*h,-S*v,0,0,0,h,v,1,-_*h,-_*v],D=dn(P,8);if(!D.length)return[];var M=bn(D,[g,m,b,y,w,x,S,_],8);return M[8]=1,gn(M,3,4)}function Kn(t,e){t[e]&&(t[e].unset(),t[e]=null)}function Qn(t,e){var n=e.datas,r=t.state,i=r.matrix,o=r.beforeMatrix,a=r.is3d,s=r.left,c=r.top,l=r.origin,u=a?4:3;n.is3d=a,n.matrix=i,n.inverseMatrix=dn(i,u),n.beforeMatrix=o,n.inverseBeforeMatrix=dn(o,u),n.absoluteOrigin=vn(wn([s,c],l),u),n.startDragBeforeDist=Sn(n.inverseBeforeMatrix,n.absoluteOrigin,a?4:3),n.startDragDist=Sn(n.inverseMatrix,n.absoluteOrigin,a?4:3)}function tr(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.inverseBeforeMatrix,a=n.inverseMatrix,s=n.is3d,c=n.startDragBeforeDist,l=n.startDragDist,u=n.absoluteOrigin,p=s?4:3;return xn(Sn(e?o:a,wn(u,[r,i]),p),e?c:l)}function er(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=t.props.target,a=window.getComputedStyle(o),s=t.state,c=s.targetTransform;n.datas={},n.left=parseFloat(a.left||"")||0,n.top=parseFloat(a.top||"")||0,n.bottom=parseFloat(a.bottom||"")||0,n.right=parseFloat(a.right||"")||0,n.transform=c,Qn(t,{datas:n}),n.prevDist=[0,0],n.prevBeforeDist=[0,0];var l=t.props.onDragStart({datas:n.datas,target:o,clientX:r,clientY:i});return!1!==l?s.isDrag=!0:s.isPinch=!1,l}function nr(t,e){var n=e.datas,r=e.distX,i=e.distY,o=e.clientX,a=e.clientY,s=e.inputEvent;s.preventDefault(),s.stopPropagation();var c=t.props.target,l=t.props.throttleDrag,u=n.prevDist,p=n.prevBeforeDist,f=n.transform,d=tr({datas:n,distX:r,distY:i},!0),h=tr({datas:n,distX:r,distY:i},!1);Zn(h,l),Zn(d,l);var v=xn(h,u),g=xn(d,p);n.prevDist=h,n.prevBeforeDist=d;var m=n.left+d[0],b=n.top+d[1],y=n.right-d[0],w=n.bottom-d[1],x=f+" translate("+h[0]+"px, "+h[1]+"px)";v.every((function(t){return!t}))&&g.some((function(t){return!t}))||(t.props.onDrag({datas:n.datas,target:c,transform:x,dist:h,delta:v,beforeDist:d,beforeDelta:g,left:m,top:b,right:y,bottom:w,clientX:o,clientY:a,isPinch:t.state.isPinch}),t.updateTarget())}function rr(t,e){var n=e.datas,r=e.isDrag,i=e.clientX,o=e.clientY,a=t.props,s=a.target,c=a.onDragEnd;t.state.isDrag=!1,c({target:s,isDrag:r,clientX:i,clientY:o,datas:n.datas}),r&&t.updateRect()}function ir(t,e,n){var r=n.datas,i=n.clientX,o=n.clientY,a=n.pinchFlag,s=t.props.target;if(!e||!s)return!1;var c=t.state,l=c.width,u=c.height,p=c.targetTransform;a||Qn(t,{datas:r}),r.datas={},r.transform=p,r.prevDist=[1,1],r.position=e,r.width=l,r.height=u;var f=t.props.onScaleStart({target:s,clientX:i,clientY:o,datas:r.datas});return!1!==f&&(t.state.isScale=!0),f}function or(t,e){var n,r,i=e.datas,o=e.clientX,a=e.clientY,s=e.distX,c=e.distY,l=e.pinchDistance,u=e.pinchFlag,p=i.prevDist,f=i.position,d=i.width,h=i.height,v=i.transform,g=t.props,m=g.keepRatio,b=g.target,y=g.throttleScale,w=g.onScale;if(u)n=(d+l)/d,r=(h+l*h/d)/h;else{var x=tr({datas:i,distX:s,distY:c}),S=f[0]*x[0],_=f[1]*x[1];if(m&&f[0]&&f[1]&&d&&h){var P=Math.sqrt(S*S+_*_),D=An([0,0],x),M=An([0,0],f),O=Math.cos(D-M)*P;S=O,_=O*h/d}var C=d+S,E=h+_;n=C/d,r=E/h}n=qn(n,y),r=qn(r,y),0===n&&(n=(p[0]>0?1:-1)*on),0===r&&(r=(p[1]>0?1:-1)*on);var N=[n,r];i.prevDist=N,n===p[0]&&r===p[1]||(w({target:b,scale:N,dist:[n/p[0],r/p[1]],delta:xn(N,p),transform:v+" scale("+n+", "+r+")",clientX:o,clientY:a,datas:i.datas,isPinch:!!u}),!u&&t.updateTarget())}function ar(t,e){var n=e.datas,r=e.isDrag,i=e.clientX,o=e.clientY,a=e.pinchFlag;t.state.isScale=!1,t.props.onScaleEnd({target:t.props.target,isDrag:r,clientX:i,clientY:o,datas:n.datas}),r&&!a&&t.updateRect()}function sr(t,e,n,r,i){t.startAbsoluteOrigin=[e-i[0]+r[0],n-i[1]+r[1]],t.prevDeg=An(t.startAbsoluteOrigin,[e,n])/Math.PI*180,t.startDeg=t.prevDeg,t.loop=0}function cr(t,e,n,r){var i=t.prevDeg,o=t.startDeg,a=t.loop;e=qn(e,r),i>e&&i>270&&e<90?++t.loop:i<e&&i<90&&e>270&&--t.loop;var s=360*a+i,c=360*t.loop+e,l=n*(c-s),u=n*(c-o);return t.prevDeg=e,[l,u]}function lr(t,e,n,r,i){return cr(t,An(t.startAbsoluteOrigin,[n,r])/Math.PI*180,e,i)}function ur(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.pinchRotate,a=e.pinchFlag,s=t.props.target;if(!s)return!1;var c=t.state,l=c.left,u=c.top,p=c.origin,f=c.beforeOrigin,d=c.rotationPos,h=c.direction,v=c.beforeDirection,g=c.targetTransform;n.transform=g,n.left=l,n.top=u,a?(n.beforeInfo={prevDeg:o,startDeg:o,loop:0},n.afterInfo={prevDeg:o,startDeg:o,loop:0}):(n.afterInfo={},n.beforeInfo={},sr(n.afterInfo,r,i,p,d),sr(n.beforeInfo,r,i,f,d)),n.direction=h,n.beforeDirection=v,n.datas={};var m=t.props.onRotateStart({datas:n.datas,target:s,clientX:r,clientY:i});return!1!==m&&(c.isRotate=!0),m}function pr(t,e){var n,r,i,o,a,s,c,l,u=e.datas,p=e.clientX,f=e.clientY,d=e.pinchRotate,h=e.pinchFlag,v=u.direction,g=u.beforeDirection,m=u.beforeInfo,b=u.afterInfo,y=t.props.throttleRotate;h?(n=cr(b,d,v,y),a=n[0],s=n[1],r=cr(m,d,v,y),c=r[0],l=r[1]):(i=lr(b,v,p,f,y),a=i[0],s=i[1],o=lr(m,g,p,f,y),c=o[0],l=o[1]),(a||c)&&(t.props.onRotate({target:t.props.target,datas:u.datas,delta:a,dist:s,clientX:p,clientY:f,beforeDist:l,beforeDelta:c,transform:u.transform+" rotate("+s+"deg)",isPinch:!!h}),!h&&t.updateTarget())}function fr(t,e){var n=e.datas,r=e.isDrag,i=e.clientX,o=e.clientY,a=e.pinchFlag;t.state.isRotate=!1,t.props.onRotateEnd({datas:n.datas,clientX:i,clientY:o,target:t.props.target,isDrag:r}),r&&!a&&t.updateRect()}function dr(t,e,n){var r=n.datas,i=n.clientX,o=n.clientY,a=n.pinchFlag,s=t.props.target;if(!s||!e)return!1;var c=t.state,l=c.width,u=c.height;!a&&Qn(t,{datas:r}),r.datas={},r.position=e,r.width=l,r.height=u,r.prevWidth=0,r.prevHeight=0;var p=t.props.onResizeStart({datas:r.datas,target:s,clientX:i,clientY:o});return!1!==p&&(t.state.isResize=!0),p}function hr(t,e){var n,r,i=e.datas,o=e.clientX,a=e.clientY,s=e.distX,c=e.distY,l=e.pinchFlag,u=e.pinchDistance,p=i.position,f=i.width,d=i.height,h=i.prevWidth,v=i.prevHeight,g=t.props,m=g.target,b=g.keepRatio,y=g.throttleResize,w=g.onResize;if(l)n=u,r=u*d/f;else{var x=tr({datas:i,distX:s,distY:c});if(n=p[0]*x[0],r=p[1]*x[1],b&&p[0]&&p[1]&&f&&d){var S=Math.sqrt(n*n+r*r),_=An([0,0],x),P=An([0,0],p),D=Math.cos(_-P)*S;n=D,r=D*d/f}}n=qn(n,y),r=qn(r,y);var M=f+n,O=d+r,C=[n-h,r-v];i.prevWidth=n,i.prevHeight=r,C.every((function(t){return!t}))||(w({target:m,width:M,height:O,dist:[n,r],datas:i.datas,delta:C,clientX:o,clientY:a,isPinch:!!l}),!l&&t.updateRect())}function vr(t,e){var n=e.datas,r=e.isDrag,i=e.clientX,o=e.clientY,a=e.pinchFlag;t.state.isResize=!1,t.props.onScaleEnd({target:t.props.target,datas:n.datas,clientX:i,clientY:o,isDrag:r}),r&&!a&&t.updateRect()}function gr(t){return An([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function mr(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.touches;n.scaleDatas={},n.rotateDatas={},n.pinchDatas={};var a=t.props,s=a.pinchable,c=a.rotatable,l=a.scalable,u=a.resizable,p=a.target,f=s&&(!0===s?c:s.indexOf("rotatable")>-1),d=s&&(!0===s?u:s.indexOf("resizable")>-1),h=!d&&(s&&(!0===s?l:s.indexOf("scalable")>-1));t.state.isPinch=!0,t.props.onPinchStart({target:p,clientX:r,clientY:i,datas:n.pinchDatas}),f&&ur(t,{datas:n.rotateDatas,clientX:r,clientY:i,pinchFlag:!0,pinchRotate:gr(o)}),d&&dr(t,[1,1],{datas:n.scaleDatas,clientX:r,clientY:i,pinchFlag:!0}),h&&ir(t,[1,1],{datas:n.scaleDatas,clientX:r,clientY:i,pinchFlag:!0}),t.state.isPinch=!0}function br(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.scale,a=e.distance,s=e.touches,c=e.inputEvent,l=t.state,u=l.isRotate,p=l.isScale,f=l.isResize;if(c.preventDefault(),c.stopPropagation(),t.props.onPinch({target:t.props.target,clientX:r,clientY:i,datas:n.pinchDatas}),u&&pr(t,{datas:n.rotateDatas,pinchRotate:gr(s),pinchFlag:!0}),f){var d=a*(1-1/o);hr(t,{datas:n.scaleDatas,clientX:r,clientY:i,pinchDistance:d,pinchFlag:!0})}if(p){d=a*(1-1/o);or(t,{datas:n.scaleDatas,clientX:r,clientY:i,pinchDistance:d,pinchFlag:!0})}t.updateRect()}function yr(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.isPinch,a=t.state,s=a.isRotate,c=a.isScale,l=a.isResize;t.state.isPinch=!1,t.props.onPinchEnd({target:t.props.target,isDrag:o,clientX:r,clientY:i,datas:n.pinchDatas}),s&&fr(t,{datas:n.rotateDatas,clientX:r,clientY:i,isDrag:o,pinchFlag:!0}),l&&vr(t,{datas:n.scaleDatas,clientX:r,clientY:i,isDrag:o,pinchFlag:!0}),c&&ar(t,{datas:n.scaleDatas,clientX:r,clientY:i,isDrag:o,pinchFlag:!0}),t.updateRect()}function wr(t,e,n,r){var i={container:window};return n&&(i.dragstart=function(e){return er(t,e)},i.drag=function(e){return nr(t,e)},i.dragend=function(e){return rr(t,e)}),r&&(i.pinchstart=function(e){return mr(t,e)},i.pinch=function(e){return br(t,e)},i.pinchend=function(e){return yr(t,e)}),new at(e,i)}function xr(t,e,n){var r=An(t,e),i=An(t,n),o=i-r;return o>=0?o:o+2*Math.PI}function Sr(t,e){var n=xr(t[0],t[1],t[2]),r=xr(e[0],e[1],e[2]),i=Math.PI;return!(n>=i&&r<=i||n<=i&&r>=i)}function _r(t,e,n){var r=n.datas,i=n.clientX,o=n.clientY,a=t.props.target;if(!e||!a)return!1;var s=t.state,c=s.transformOrigin,l=s.is3d,u=s.targetTransform,p=s.targetMatrix,f=s.width,d=s.height;r.datas={},r.targetTransform=u,r.targetMatrix=l?p:gn(p,3,4),r.targetInverseMatrix=fn(dn(r.targetMatrix,4),3,4),r.position=e,Qn(t,{datas:r}),r.poses=[[0,0],[f,0],[0,d],[f,d]].map((function(t,e){return xn(t,c)})),r.nextPoses=r.poses.map((function(t){var e=t[0],n=t[1];return Sn(r.targetMatrix,[e,n,0,1],4)})),r.posNum=(-1===e[0]?0:1)+(-1===e[1]?0:2),r.prevMatrix=ln(4);var h=t.props.onWarpStart({target:a,clientX:i,clientY:o,datas:r.datas});return!1!==h&&(t.state.isWarp=!0),h}function Pr(t,e){var n=e.datas,r=e.clientX,i=e.clientY,o=e.distX,a=e.distY,s=n.posNum,c=n.poses,l=n.targetInverseMatrix,u=n.prevMatrix,p=t.props.target,f=tr({datas:n,distX:o,distY:a},!0),d=n.nextPoses.slice();if(d[s]=[d[s][0]+f[0],d[s][1]+f[1]],rn.every((function(t){return Sr(t.map((function(t){return c[t]})),t.map((function(t){return d[t]})))}))){var h=Jn(c[0],c[1],c[2],c[3],d[0],d[1],d[2],d[3]);if(h.length){var v=Dn(bn(l,h,4)),g=n.targetTransform+" matrix3d("+v.join(",")+")",m=bn(dn(u,4),v,4);n.prevMatrix=v,t.props.onWarp({target:p,clientX:r,clientY:i,delta:m,multiply:yn,dist:v,transform:g,datas:n.datas}),t.updateRect()}}}function Dr(t,e){var n=e.datas,r=e.isDrag,i=e.clientX,o=e.clientY;t.state.isWarp=!1,t.props.onWarpEnd({target:t.props.target,clientX:i,clientY:o,isDrag:r,datas:n.datas}),r&&t.updateRect()}function Mr(t,e){var n;return new at(e,{container:window,dragstart:function(e){var r=e.inputEvent.target,i=t.props,o=i.scalable,a=i.resizable,s=i.warpable;if(n="",!V(r,Mn("control")))return!1;if(V(r,Mn("rotation")))return n="rotate",ur(t,e);var c=Hn(r);return o?(n="scale",ir(t,c,e)):a?(n="resize",dr(t,c,e)):!!s&&(n="warp",_r(t,c,e))},drag:function(e){if(e.inputEvent.preventDefault(),e.inputEvent.stopPropagation(),n)return"rotate"===n?pr(t,e):"scale"===n?or(t,e):"resize"===n?hr(t,e):"warp"===n?Pr(t,e):void 0},dragend:function(e){if(n)return"rotate"===n?fr(t,e):"scale"===n?ar(t,e):"resize"===n?vr(t,e):"warp"===n?Dr(t,e):void 0}})}var Or=Ze("div",nn),Cr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={target:null,beforeMatrix:On(),matrix:On(),targetMatrix:On(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,rotationRad:0,rotationPos:[0,0],beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],isDrag:!1,isRotate:!1,isScale:!1,isResize:!1,isPinch:!1,isWarp:!1},e}Ke(e,t);var n=e.prototype;return n.isMoveableElement=function(t){return t&&(t.getAttribute("class")||"").indexOf(en)>-1},n.render=function(){this.state.target!==this.props.target&&this.updateRect(!0);var t=this.state,e=t.left,n=t.top,r=t.pos1,i=t.pos2,o=t.pos3,a=t.pos4,s=t.target,c=t.direction;return be(Or,{ref:p(this,"controlBox"),className:Mn("control-box",-1===c?"reverse":""),style:{position:this.props.container?"absolute":"fixed",display:s?"block":"none",transform:"translate("+e+"px, "+n+"px) translateZ(50px)"}},be("div",{className:Mn("line"),style:In(r,i)}),be("div",{className:Mn("line"),style:In(i,a)}),be("div",{className:Mn("line"),style:In(r,o)}),be("div",{className:Mn("line"),style:In(o,a)}),this.renderRotation(),this.renderPosition(),this.renderMiddleLine(),this.renderDiagonalPosition(),this.renderOrigin())},n.componentDidMount=function(){this.moveableDragger=Mr(this,this.controlBox.getElement())},n.componentWillUnmount=function(){Kn(this,"draggableDragger"),Kn(this,"moveableDragger")},n.renderRotation=function(){if(!this.props.rotatable)return null;var t=this.state,e=t.pos1,n=t.pos2,r=t.rotationRad;return be("div",{className:Mn("line rotation"),style:{transform:"translate("+(e[0]+n[0])/2+"px, "+(e[1]+n[1])/2+"px) translateY(-40px) rotate("+r+"rad)"}},be("div",{className:Mn("control","rotation"),ref:p(this,"rotationElement")}))},n.renderOrigin=function(){if(!this.props.origin)return null;var t=this.state.beforeOrigin;return[be("div",{className:Mn("control","origin"),style:Ln(t),key:"beforeOrigin"})]},n.renderDiagonalPosition=function(){var t=this.props,e=t.resizable,n=t.scalable,r=t.warpable;if(!e&&!n&&!r)return null;var i=this.state,o=i.pos1,a=i.pos2,s=i.pos3,c=i.pos4;return[be("div",{className:Mn("control","nw"),"data-position":"nw",key:"nw",style:Ln(o)}),be("div",{className:Mn("control","ne"),"data-position":"ne",key:"ne",style:Ln(a)}),be("div",{className:Mn("control","sw"),"data-position":"sw",key:"sw",style:Ln(s)}),be("div",{className:Mn("control","se"),"data-position":"se",key:"se",style:Ln(c)})]},n.renderMiddleLine=function(){var t=this.props,e=t.resizable,n=t.scalable,r=t.warpable;if(!e&&!n&&r){var i=this.state,o=i.pos1,a=i.pos2,s=i.pos3,c=i.pos4,l=$n(o,a),u=$n(a,o),p=$n(o,s),f=$n(s,o),d=$n(s,c),h=$n(c,s),v=$n(a,c),g=$n(c,a);return[be("div",{className:Mn("line"),key:"middeLine1",style:In(l,d)}),be("div",{className:Mn("line"),key:"middeLine2",style:In(u,h)}),be("div",{className:Mn("line"),style:In(p,v)}),be("div",{className:Mn("line"),style:In(f,g)})]}},n.renderPosition=function(){if(!this.props.resizable&&!this.props.scalable)return null;var t=this.state,e=t.pos1,n=t.pos2,r=t.pos3,i=t.pos4;return[be("div",{className:Mn("control","n"),"data-position":"n",key:"n",style:Ln(e,n)}),be("div",{className:Mn("control","w"),"data-position":"w",key:"w",style:Ln(e,r)}),be("div",{className:Mn("control","e"),"data-position":"e",key:"e",style:Ln(n,i)}),be("div",{className:Mn("control","s"),"data-position":"s",key:"s",style:Ln(r,i)})]},n.dragstart=function(t){this.draggableDragger&&this.draggableDragger.onDragStart(t)},n.updateRect=function(t){var e=this.props,n=e.target,r=e.container,i=e.draggable,o=e.pinchable,a=this.state;a.target!==n&&(Kn(this,"draggableDragger"),this.updateState({isDrag:!1,isRotate:!1,isScale:!1,isResize:!1,isWarp:!1,isPinch:!1},!0),n&&(i||o)&&(this.draggableDragger=wr(this,n,i,o))),this.updateState(Gn(n,r),t)},n.updateTarget=function(){var t=this.state,e=t.width,n=t.height,r=t.beforeMatrix,i=t.is3d,o=this.props,a=o.target,s=o.container,c=i?4:3,l=Yn(a,s,!0,r,c),u=l[1],p=l[2],f=l[3],d=l[4],h=l[5],v=Wn(p,h,e,n),g=v[0],m=g[0],b=g[1],y=v[1],w=v[2],x=v[3],S=v[4],_=v[5],P=v[6];c=16===u.length?4:3;var D=xn(jn(u,wn(h,_n(f,c)),c),[m,b]),M=Un(w,x,P),O=M[0],C=M[1];this.setState({direction:P,beforeOrigin:D,rotationRad:O,rotationPos:C,pos1:w,pos2:x,pos3:S,pos4:_,origin:y,beforeMatrix:r,targetMatrix:f,matrix:p,transformOrigin:h,targetTransform:d,left:m,top:b})},n.updateState=function(t,e){var n=this.state;if(e)for(var r in t)n[r]=t[r];else this.setState(t)},e.defaultProps={target:null,container:null,rotatable:!1,draggable:!1,scalable:!1,resizable:!1,warpable:!1,pinchable:!1,keepRatio:!0,origin:!0,throttleDrag:0,throttleResize:0,throttleScale:0,throttleRotate:0,onRotateStart:function(){},onRotate:function(){},onRotateEnd:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onScaleStart:function(){},onScale:function(){},onScaleEnd:function(){},onResizeStart:function(){},onResize:function(){},onResizeEnd:function(){},onWarpStart:function(){},onWarp:function(){},onWarpEnd:function(){},onPinchStart:function(){},onPinch:function(){},onPinchEnd:function(){}},e}(Fe),Er=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.state=n.props,n}ct(e,t);var n=e.prototype;return n.render=function(){return vt(Cr,lt({ref:p(this,"preactMoveable")},this.state))},e}(Ht),Nr=["draggable","resizable","scalable","rotatable","warpable","pinchable","origin","target","throttleDrag","throttleResize","throttleScale","throttleRotate","keepRatio"],Rr=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd"],Xr=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this,i=document.createElement("div"),o=lt({container:e},n),a={};return Rr.forEach((function(t){a[L("on "+t)]=function(e){return r.trigger(t,e)}})),qt(vt(Er,lt({ref:p(r,"innerMoveable")},o,a)),i),e.appendChild(i.children[0]),r}ct(e,t);var n=e.prototype;return n.isMoveableElement=function(t){return this.getMoveable().isMoveableElement(t)},n.updateRect=function(){this.getMoveable().updateRect()},n.updateTarget=function(){this.getMoveable().updateTarget()},n.destroy=function(){var t=this.getMoveable().base;t.remove?t.remove():t.parentElement.removeChild(t),this.getMoveable().componentWillUnmount(),this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.preactMoveable},e=ut([f(Nr,(function(t,e){Object.defineProperty(t,e,{get:function(){return this.getMoveable().props[e]},set:function(t){var n;this.innerMoveable.setState((n={},n[e]=t,n))},enumerable:!0,configurable:!0})}))],e),e}(c),Yr=Xr;function kr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kr(n,!0).forEach((function(e){jr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kr(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zr=["clickGroup","drag","dragEnd","dragStart","dragGroup","dragGroupEnd","dragGroupStart","pinch","pinchEnd","pinchGroup","pinchGroupEnd","pinchGroupStart","pinchStart","resize","resizeEnd","resizeGroup","resizeGroupEnd","resizeGroupStart","resizeStart","rotate","rotateEnd","rotateGroup","rotateGroupEnd","rotateGroupStart","rotateStart","scale","scaleEnd","scaleGroup","scaleGroupEnd","scaleGroupStart","scaleStart","warp","warpEnd","warpStart"],Br=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","throttleDrag","throttleResize","throttleScale","throttleRotate","keepRatio","edge","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","dragArea","rotationPosition"],Wr=function(t,e){return{handler:function(e){var n=this.moveable[t];n!==e&&(this.moveable[t]=e)},deep:e}},Fr=function(){return Br.reduce((function(t,e){return t[e]=Wr(e,!0),t}),{})},Ar={name:"Moveable",inheritAttrs:!1,props:{draggable:Boolean,resizable:Boolean,scalable:Boolean,rotatable:Boolean,warpable:Boolean,pinchable:[Boolean,Array],snappable:[Boolean,Array],origin:Boolean,container:{type:[HTMLElement,SVGElement],default:function(){return document.body}},throttleDrag:Number,throttleResize:Number,throttleScale:Number,throttleRotate:Number,keepRatio:Boolean,edge:Boolean,pinchThreshold:Number,snapCenter:Boolean,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,rotationPosition:String},methods:{updateRec:function(){this.moveable.updateRect()}},mounted:function(){var t=this;this.moveable=new Yr(this.$props.container,Tr({},this.$props,{target:this.$el})),zr.forEach((function(e){return t.moveable.on(e,t.$emit.bind(t,e))})),window.addEventListener("resize",this.updateRec,{passive:!0})},watch:Tr({},Fr()),beforeDestroy:function(){var t=this;zr.forEach((function(e){return t.moveable.off(e,t.$emit.bind(t,e))})),window.removeEventListener("resize",this.updateRec),this.moveable.destroy()}},Ir=Ar;function Lr(t,e,n,r,i,o,a,s){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:l}}var Vr=Lr(Ir,i,o,!1,null,null,null),Ur=Vr.exports;e["default"]=Ur}})["default"]}));
//# sourceMappingURL=VueMoveable.umd.min.js.map